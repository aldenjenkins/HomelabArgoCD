apiVersion: monitoring.coreos.com/v1
kind: Probe
metadata:
  name: tempo-get-static-urls-30s
spec:
  jobName: tempo-get-static-urls-30s
  interval: 30s
  module: http_2xx_30s
  scrapeTimeout: 30s
  prober:
    url: blackbox-exporter.blackbox-exporter.svc.cluster.local.:19115
  targets:
    staticConfig:
      static:
        - http://tempo-distributor.tempo.svc.cluster.local.:3200/ready
        - http://tempo-compactor.tempo.svc.cluster.local.:3200/ready
        - http://tempo-ingester.tempo.svc.cluster.local.:3200/ready
        - http://tempo-gateway.tempo.svc.cluster.local.:80
        - http://tempo-querier.tempo.svc.cluster.local.:3200/ready
        - http://tempo-query-frontend.tempo.svc.cluster.local.:3200/ready
---
apiVersion: monitoring.coreos.com/v1
kind: Probe
metadata:
  name: tempo-tcp-30s
spec:
  jobName: tempo-tcp-30s
  interval: 30s
  scrapeTimeout: 30s
  module: tcp_connect
  prober:
    url: blackbox-exporter.blackbox-exporter.svc.cluster.local.:19115
  targets:
    staticConfig:
      static:
        - tempo-memcached.tempo.svc.cluster.local.:11211
